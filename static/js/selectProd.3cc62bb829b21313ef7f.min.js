webpackJsonp([11,15],{163:function(t,e,o){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=o(4),n=r(a),i=o(3),p=r(i),c=o(2);e.default={data:function(){return{tabs:[],curTab:"",list:[],allList:[]}},created:function(){this.getCategorys()},watch:{curTab:function(){this.getProducts()}},beforeRouteEnter:function(t,e,o){o(function(t){"/storeManage/stock"===e.path&&(t.curTab="",t.list=[],t.allList=[],t.getProducts())})},components:{},computed:{getCount:function(){var t=0;return this.allList.forEach(function(e){t+=e.count}),t}},methods:{initData:function(){},getCategorys:function(){var t=this;return(0,p.default)(n.default.mark(function e(){var o;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.$Loading.open(),e.next=3,(0,c.getProdCategory)({type:10});case 3:o=e.sent,t.$Loading.close(),o.success&&(t.tabs=o.data);case 6:case"end":return e.stop()}},e,t)}))()},getProducts:function(){var t=this;return(0,p.default)(n.default.mark(function e(){var o;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.$Loading.open(),e.next=3,(0,c.getStockProducts)({isGtZero:"N",productCategoryId:t.curTab});case 3:o=e.sent,t.$Loading.close(),o.success&&(t.allList.length&&t.allList.forEach(function(e){t.list.forEach(function(t){e.productId==t.productId&&(e.count=t.count)}),o.data.forEach(function(t,r){e.productId==t.productId&&o.data.splice(r,1,e)})}),t.list=o.data.map(function(t){return t.count||(t.count=0),t}),t.curTab||t.allList.length||(t.allList=o.data));case 6:case"end":return e.stop()}},e,t)}))()},nextStep:function(){return this.getCount<1?this.$Toast({message:"请输入对应商品数量"}):(window.__store=this.allList,void this.$router.push({path:"/storeManage/createOrder",query:{type:this.$route.query.type}}))},prevCount:function(t){t.count<=0||t.count--},nextCount:function(t){return"出库"==this.$route.query.type&&t.count>=t.productQuantity?void this.$Toast({message:"超出最大库存"}):void t.count++},editCountBlur:function(t){t.count=parseInt(t.count),isNaN(t.count)&&(t.count=0),"出库"==this.$route.query.type&&t.count>t.productQuantity&&(this.$Toast({message:"超出最大库存"}),t.count=t.productQuantity)}}}},234:function(t,e,o){e=t.exports=o(6)(),e.push([t.id,'.router_page[data-v-26122a77]{width:100%;height:100%;background-color:#fff;-ms-flex-direction:column;flex-direction:column}.router_page .tabs[data-v-26122a77]{height:72px;line-height:72px;font-size:32px;text-align:center;-ms-flex-pack:center;justify-content:center;margin-top:16px;-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:center;align-items:center;margin-left:20px;margin-right:20px}.router_page .tabs .tab[data-v-26122a77]{padding:0 30px;color:#666;border-bottom:2px solid #f3f3f3;-ms-flex-positive:0;flex-grow:0}.router_page .tabs .tab.active[data-v-26122a77]{color:#00a0e9;border-bottom:2px solid #00a0e9}.router_page .products[data-v-26122a77]{box-sizing:border-box;margin-top:30px;padding:4px 20px 90px}.router_page .products .prod[data-v-26122a77]{width:436px;height:254px;box-shadow:0 0 4px rgba(1,2,2,.13);font-size:24px;color:#999;box-sizing:border-box;padding:20px;float:left;margin-right:20px;margin-bottom:20px}.router_page .products .prod[data-v-26122a77]:nth-of-type(3n){margin-right:0}.router_page .products .prod .p_top .img[data-v-26122a77]{width:120px;height:120px;box-shadow:0 0 4px rgba(1,2,2,.13);border-radius:8px;margin-right:22px}.router_page .products .prod .p_top .info .name[data-v-26122a77]{height:92px;line-height:46px;font-size:28px;color:#7f674d}.router_page .products .prod .p_count[data-v-26122a77]{height:80px;line-height:80px}.router_page .products .prod .edit_count[data-v-26122a77]{height:47px;line-height:47px;text-align:center;font-size:26px;color:#333;position:absolute;right:40px;bottom:40px;border-radius:5px;border:1px solid #c9c9c9}.router_page .products .prod .edit_count>input[data-v-26122a77]{width:auto;max-width:80px;font-size:24px;text-align:center}.router_page .products .prod .edit_count .next[data-v-26122a77],.router_page .products .prod .edit_count .prev[data-v-26122a77]{width:47px;height:47px;position:relative;border-right:1px solid #c9c9c9}.router_page .products .prod .edit_count .next[data-v-26122a77]:active,.router_page .products .prod .edit_count .prev[data-v-26122a77]:active{background-color:#ccc}.router_page .products .prod .edit_count .next[data-v-26122a77]:after,.router_page .products .prod .edit_count .prev[data-v-26122a77]:after{content:"";position:absolute;width:19px;height:2px;background-color:#666;left:14px;top:23px}.router_page .products .prod .edit_count .next[data-v-26122a77]{border-right:none;border-left:1px solid #c9c9c9}.router_page .products .prod .edit_count .next[data-v-26122a77]:before{content:"";position:absolute;width:19px;height:2px;background-color:#f44c4c;left:14px;top:23px}.router_page .products .prod .edit_count .next[data-v-26122a77]:after{background-color:#f44c4c;transform:rotate(90deg)}.router_page .next_step[data-v-26122a77]{width:226px;height:80px;line-height:80px;text-align:center;border-radius:8px;font-size:28px;color:#fff;position:absolute;bottom:14px;left:580px;background-color:#ccc}.router_page .next_step.active[data-v-26122a77]{background-color:#ff446a}',"",{version:3,sources:["/./src/page/storeManage/selectProd.vue"],names:[],mappings:"AACA,8BAA8B,WAAW,YAAY,sBAAsB,AAAuF,0BAA0B,qBAAqB,CAChN,AACD,oCAAoC,YAAY,iBAAiB,eAAe,kBAAkB,AAAuD,qBAAqB,uBAAuB,gBAAgB,AAAuF,0BAA0B,sBAAsB,AAAuB,mBAAmB,eAAe,AAAoD,sBAAsB,mBAAmB,iBAAiB,iBAAiB,CACnhB,AACD,yCAAyC,eAAe,WAAW,gCAAgC,AAAuC,oBAAoB,WAAW,CACxK,AACD,gDAAgD,cAAc,+BAA+B,CAC5F,AACD,wCAAwC,sBAAsB,gBAAgB,qBAAqB,CAClG,AACD,8CAA8C,YAAY,aAAa,mCAAoC,eAAe,WAAW,sBAAsB,aAAa,WAAW,kBAAkB,kBAAkB,CACtN,AACD,8DAA8D,cAAc,CAC3E,AACD,0DAA0D,YAAY,aAAa,mCAAoC,kBAAkB,iBAAiB,CACzJ,AACD,iEAAiE,YAAY,iBAAiB,eAAe,aAAa,CACzH,AACD,uDAAuD,YAAY,gBAAgB,CAClF,AACD,0DAA0D,YAAY,iBAAiB,kBAAkB,eAAe,WAAW,kBAAkB,WAAW,YAAY,kBAAkB,wBAAwB,CACrN,AACD,gEAAgE,WAAW,eAAe,eAAe,iBAAiB,CACzH,AACD,gIAAgI,WAAW,YAAY,kBAAkB,8BAA8B,CACtM,AACD,8IAA8I,qBAAqB,CAClK,AACD,4IAA8I,WAAW,kBAAkB,WAAW,WAAW,sBAAyB,UAAU,QAAQ,CAC3O,AACD,gEAAgE,kBAAkB,6BAA6B,CAC9G,AACD,uEAAwE,WAAW,kBAAkB,WAAW,WAAW,yBAAyB,UAAU,QAAQ,CACrK,AACD,sEAAuE,yBAAyB,AAA4D,uBAAuB,CAClL,AACD,yCAAyC,YAAY,YAAY,iBAAiB,kBAAkB,kBAAkB,eAAe,WAAW,kBAAkB,YAAY,WAAW,qBAAqB,CAC7M,AACD,gDAAgD,wBAAwB,CACvE",file:"selectProd.vue",sourcesContent:['\n.router_page[data-v-26122a77]{width:100%;height:100%;background-color:#fff;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column\n}\n.router_page .tabs[data-v-26122a77]{height:72px;line-height:72px;font-size:32px;text-align:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-top:16px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin-left:20px;margin-right:20px\n}\n.router_page .tabs .tab[data-v-26122a77]{padding:0 30px;color:#666;border-bottom:2px solid #F3F3F3;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0\n}\n.router_page .tabs .tab.active[data-v-26122a77]{color:#00A0E9;border-bottom:2px solid #00A0E9\n}\n.router_page .products[data-v-26122a77]{box-sizing:border-box;margin-top:30px;padding:4px 20px 90px\n}\n.router_page .products .prod[data-v-26122a77]{width:436px;height:254px;box-shadow:0 0 4px rgba(1,2,2,0.13);font-size:24px;color:#999;box-sizing:border-box;padding:20px;float:left;margin-right:20px;margin-bottom:20px\n}\n.router_page .products .prod[data-v-26122a77]:nth-of-type(3n){margin-right:0\n}\n.router_page .products .prod .p_top .img[data-v-26122a77]{width:120px;height:120px;box-shadow:0 0 4px rgba(1,2,2,0.13);border-radius:8px;margin-right:22px\n}\n.router_page .products .prod .p_top .info .name[data-v-26122a77]{height:92px;line-height:46px;font-size:28px;color:#7F674D\n}\n.router_page .products .prod .p_count[data-v-26122a77]{height:80px;line-height:80px\n}\n.router_page .products .prod .edit_count[data-v-26122a77]{height:47px;line-height:47px;text-align:center;font-size:26px;color:#333;position:absolute;right:40px;bottom:40px;border-radius:5px;border:1px solid #C9C9C9\n}\n.router_page .products .prod .edit_count>input[data-v-26122a77]{width:auto;max-width:80px;font-size:24px;text-align:center\n}\n.router_page .products .prod .edit_count .prev[data-v-26122a77],.router_page .products .prod .edit_count .next[data-v-26122a77]{width:47px;height:47px;position:relative;border-right:1px solid #C9C9C9\n}\n.router_page .products .prod .edit_count .prev[data-v-26122a77]:active,.router_page .products .prod .edit_count .next[data-v-26122a77]:active{background-color:#ccc\n}\n.router_page .products .prod .edit_count .prev[data-v-26122a77]::after,.router_page .products .prod .edit_count .next[data-v-26122a77]::after{content:"";position:absolute;width:19px;height:2px;background-color:#666666;left:14px;top:23px\n}\n.router_page .products .prod .edit_count .next[data-v-26122a77]{border-right:none;border-left:1px solid #C9C9C9\n}\n.router_page .products .prod .edit_count .next[data-v-26122a77]::before{content:"";position:absolute;width:19px;height:2px;background-color:#F44C4C;left:14px;top:23px\n}\n.router_page .products .prod .edit_count .next[data-v-26122a77]::after{background-color:#F44C4C;-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg)\n}\n.router_page .next_step[data-v-26122a77]{width:226px;height:80px;line-height:80px;text-align:center;border-radius:8px;font-size:28px;color:#fff;position:absolute;bottom:14px;left:580px;background-color:#ccc\n}\n.router_page .next_step.active[data-v-26122a77]{background-color:#FF446A\n}\n'],sourceRoot:"webpack://"}])},259:function(t,e,o){var r=o(234);"string"==typeof r&&(r=[[t.id,r,""]]);o(7)(r,{});r.locals&&(t.exports=r.locals)},370:function(t,e,o){o(259);var r=o(1)(o(163),o(382),"data-v-26122a77",null);t.exports=r.exports},382:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"router_page pr dp_flex"},[o("div",{staticClass:"tabs scroll_x dp_flex"},[o("div",{staticClass:"tab",class:{active:!t.curTab},on:{click:function(e){t.curTab=""}}},[t._v("全部")]),t._v(" "),t._l(t.tabs,function(e){return o("div",{staticClass:"tab",class:{active:t.curTab==e.key},on:{click:function(o){t.curTab=e.key}}},[t._v(t._s(e.value))])})],2),t._v(" "),o("div",{staticClass:"products flex1 scroll pr clear"},t._l(t.list,function(e,r){return o("div",{staticClass:"prod pr"},[o("div",{staticClass:"p_top dp_flex"},[o("img",{staticClass:"img",attrs:{src:e.productImage}}),t._v(" "),o("div",{staticClass:"info flex1"},[o("div",{staticClass:"name line2"},[t._v(t._s(e.productName))]),t._v(" "),o("div",{staticClass:"spec"},[t._v("规格："+t._s(e.productSpec+e.productSpecUom))])])]),t._v(" "),o("div",{staticClass:"p_count"},[t._v("\n                      "+t._s("盘点"==t.$route.query.type?"实际":t.$route.query.type)+"数量\n                  ")]),t._v(" "),o("div",{staticClass:"edit_count dp_flex pr"},[o("div",{staticClass:"prev",on:{click:function(o){t.prevCount(e)}}}),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.count,expression:"item.count"}],attrs:{type:"text"},domProps:{value:e.count},on:{blur:function(o){t.editCountBlur(e)},input:function(o){o.target.composing||t.$set(e,"count",o.target.value)}}}),t._v(" "),o("div",{staticClass:"next",on:{click:function(o){t.nextCount(e)}}})])])})),t._v(" "),o("div",{staticClass:"next_step",class:{active:t.getCount},on:{click:t.nextStep}},[t._v("下一步")])])},staticRenderFns:[]}}});